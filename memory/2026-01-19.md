# 2025-01-19

## Bootstrap / First Contact

- Pierwsze uruchomienie Clawdbot
- UstaliliÅ›my toÅ¼samoÅ›Ä‡:
  - **Ja:** Claude ğŸ¤– â€” AI asystent gÅ‚osowy/daemon
  - **User:** Marcin (Polska, Europe/Warsaw)
  
- **Kontekst o Marcinie:**
  - Elektronik, programowaÅ‚ assembly 286/486 ~25 lat temu
  - Wraca do programowania z AI
  - Ma sesjÄ™ na claude.ai z wiÄ™cej kontekstu (!)
  - Rodzina: Å¼ona + dziecko, grajÄ… w Fortnite crossplatform
  
- **Projekty:**
  1. Asystent gÅ‚osowy: RPi4 + Sony SRS-XB23 (BT) â†’ Mac Mini A1347 (wtorek/Å›roda)
  2. BeOne.com â€” aplikacja do tÅ‚umaczeÅ„ (domena kupiona)

## Asystent GÅ‚osowy - Status

**âœ… Zrobione (RPi4):**
- System: Raspberry Pi OS Lite zainstalowany
- WiFi i SSH skonfigurowane
- Hardware zÅ‚oÅ¼ony: Pi 4B 4GB, radiatory, wentylator, obudowa aluminiowa
- Python venv utworzone (~/assistant)
- PulseAudio skonfigurowane
- Bluetooth Sony SRS-XB23 poÅ‚Ä…czony i dziaÅ‚a
- Audio output (gÅ‚oÅ›nik) dziaÅ‚a
- Mikrofon przez Bluetooth (profil HFP) - nagrywanie i odtwarzanie OK
- Biblioteki Python: anthropic, sounddevice, numpy, scipy

**ğŸ“‹ Tech Stack (ustalony):**
- Wake word: openWakeWord ("Hej Claude")
- STT: **whisper.cpp** (C++, natywny ARM, skompilowany âœ…)
- LLM: Claude przez Clawdbot API (dziaÅ‚a na RPi4 âœ…)
- TTS: LuxTTS (CPU-friendly, 150x realtime, voice cloning) - TODO

**âœ… Zrobione dzisiaj (2026-01-26 rano):**
- Node.js + Clawdbot zainstalowane na RPi4
- Gateway uruchomiony, Telegram dziaÅ‚a
- Whisper.cpp skompilowany (100%)
- Model whisper-base pobrany (141MB)
- **Testy audio peÅ‚ne:**
  - âœ… Mikrofon BT nagrywanie dziaÅ‚a
  - âœ… Whisper transkrypcja dziaÅ‚a (wykryÅ‚ [muzyka] w ciszy)
  - â±ï¸ WydajnoÅ›Ä‡: 3s audio = 44s przetwarzania (~15x wolniej)
- Napisany voice_assistant_v2.py

**Status (2026-01-26 19:25):**

**Voice Assistant:** âœ… DZIAÅA!
- `voice_assistant_v3.py` - peÅ‚ny z TTS (espeak)
- **TESTED:** Jola usÅ‚yszaÅ‚a mÃ³j gÅ‚os! ğŸ‰
- Bluetooth Sony SRS-XB23

**System:**
- âœ… Tailscale: `100.89.1.82` (sieÄ‡ Marcina)
- âœ… Auto-restart Gateway: co 6h
- âœ… Auto-start po zaniku zasilania
- âœ… Gateway bind: LAN (dostÄ™p z telefonu)

**ğŸ¦Œ BAMBIK AUTO-BRIDGE:** âœ… DZIAÅA!
- `bambik-bot.service` - monitoring 24/7
- Wykrywa rate limit Claude
- Automatycznie przejmuje Telegram
- Qwen 2.5:3b (~60s odpowiedÅº, ale dziaÅ‚a!)
- Informuje: "ğŸ¦Œ NA DYÅ»URZE" / "âœ… Claude wrÃ³ciÅ‚"

**ğŸ”´ WAKE BUTTON:** âœ… GOTOWE!
- `http://100.89.1.82:8888` - jeden klik = restart
- DziaÅ‚a przez Tailscale z telefonu
- MoÅ¼e dodaÄ‡ do Home Screen iPhone
- Service: wake-button.service (auto-start)

**Tokeny:** ~155k/200k (77%) - zostaÅ‚o ~45k

**Skrypty:**
1. `test_voice.py` - test bez TTS (tylko tekst)
2. **`voice_assistant_v3.py`** - PEÅNY z TTS! â­

**Co dziaÅ‚a:**
- âœ… Mikrofon BT (Sony SRS-XB23)
- âœ… GÅ‚oÅ›nik BT 
- âœ… Whisper.cpp transkrypcja (model base, ~45s dla 5s audio)
- âœ… Claude API
- âœ… **espeak TTS** - mÃ³wiÄ™ przez gÅ‚oÅ›nik! ğŸ”Š
- âŒ Wake word (TODO)
- âŒ LuxTTS/lepszy gÅ‚os (TODO - Mac Mini)

**Jak testowaÄ‡:**
```bash
cd ~/assistant
source bin/activate
python voice_assistant_v3.py
```

MÃ³wi "SÅ‚ucham" â†’ nagrywa 5s â†’ "MyÅ›lÄ™" â†’ odpowiada gÅ‚osem!

**ğŸ“‹ Do zrobienia:**
1. DokoÅ„czyÄ‡ voice assistant (STT â†’ Claude â†’ odpowiedÅº tekstowa)
2. DodaÄ‡ TTS (LuxTTS)
3. Wake word detection (openWakeWord)
4. Integracja z Tuya (smart home)
5. Migracja na Mac Mini A1347 (wtorek/Å›roda)

## Next Steps
- Setup wake word detection
- Tuya integration
- BeOne.com projekt
